# ============================================
# PRO-MATA - Produção
# Configure via GitHub Secrets/Variables
# ============================================
# Este arquivo serve como referência.
# NÃO commitar valores reais!
# ============================================

# === DOMAIN ===
DOMAIN_NAME=promata.com.br

# === DATABASE (GitHub Secrets) ===
# Connection string gerada automaticamente no deploy
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?schema=app
POSTGRES_DB=promata
POSTGRES_USER=promata
POSTGRES_PASSWORD=                    # SECRET - configurar no GitHub

# === APPLICATION (GitHub Secrets) ===
JWT_SECRET=                           # SECRET - min 256 bits
APP_SECRET=                           # SECRET - random string
NODE_ENV=production
LOG_LEVEL=info

# === ANALYTICS (Umami) ===
UMAMI_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?schema=umami
VITE_UMAMI_WEBSITE_ID=                # Configurar após setup Umami
VITE_UMAMI_SCRIPT_URL=https://analytics.${DOMAIN_NAME}/script.js

# === BI (Metabase) ===
METABASE_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?schema=metabase

# === EMAIL (GitHub Secrets) ===
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USER=promata.suporte@gmail.com
MAIL_PASSWORD=                        # SECRET - Gmail app password
MAIL_FROM=promata.suporte@gmail.com
MAIL_FROM_NAME=Pró-Mata

# === AWS (GitHub Secrets) ===
AWS_ACCESS_KEY_ID=                    # SECRET
AWS_SECRET_ACCESS_KEY=                # SECRET
AWS_REGION=sa-east-1                  # São Paulo
AWS_S3_BUCKET=promata-frontend

# === CLOUDFLARE (GitHub Secrets) ===
CLOUDFLARE_API_TOKEN=                 # SECRET - for DNS challenge
CF_DNS_API_TOKEN=                     # SECRET - same as CLOUDFLARE_API_TOKEN
CF_ZONE_API_TOKEN=                    # SECRET - same as CLOUDFLARE_API_TOKEN
CLOUDFLARE_ZONE_ID=                   # SECRET

# === DOCKER REGISTRY (GitHub Secrets) ===
DOCKER_USERNAME=                      # SECRET
DOCKER_PASSWORD=                      # SECRET

# === DEPLOYMENT (GitHub Secrets) ===
EC2_SSH_KEY=                          # SECRET - Private key
EC2_HOST=                             # Terraform output

# === NOTIFICATIONS (GitHub Secrets) ===
DISCORD_WEBHOOK_URL=                  # SECRET

# ============================================
# GitHub Secrets a configurar:
# ============================================
# AWS_ACCESS_KEY_ID
# AWS_SECRET_ACCESS_KEY
# CLOUDFLARE_API_TOKEN
# CLOUDFLARE_ZONE_ID
# POSTGRES_PASSWORD
# JWT_SECRET
# APP_SECRET
# MAIL_PASSWORD
# DOCKER_USERNAME
# DOCKER_PASSWORD
# EC2_SSH_KEY
# DISCORD_WEBHOOK_URL
#
# GitHub Variables a configurar:
# ============================================
# DOMAIN_NAME=promata.com.br
# AWS_REGION=sa-east-1
# AWS_S3_BUCKET=promata-frontend
# VITE_API_URL=https://api.promata.com.br
# VITE_UMAMI_WEBSITE_ID=<após configurar>
# POSTGRES_USER=promata
# POSTGRES_DB=promata
